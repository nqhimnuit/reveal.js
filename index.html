<!doctype html>
<html lang="en">

<head>
	<meta charset="utf-8">

	<title>JavaServer Faces</title>

	<link rel="stylesheet" href="css/reveal.css">
	<link rel="stylesheet" href="css/theme/black.css">
	<link rel="stylesheet" href="lib/css/monokai.css">
</head>

<body>
	<div class="reveal">
		<div class="slides">
			<section>
				<h1>Agenda</h1>
				<ol>
					<li>JSF Overview</li>
					<li>A Simple JSF Application</li>
					<li>JSF lifecycle</li>
				</ol>
			</section>
			<section>
				<section>
					<h2>JSF Overview</h2>
				</section>
				<section>
					<h3>JSF Overview</h3>
					<ul>
						<li>A Java-based web framework for user interface, part of Java EE standard.</li>
						<li>A typical JavaServer Faces application includes</li>
						<ol>
							<li>web pages</li>
							<li>tags & components in the web page</li>
							<li>managed beans</li>
							<li>web deployment descriptor</li>
							<li>application configuration resource (optional)</li>
							<li>custom objects, tags (optional)</li>
						</ol>
						<li>Uses Facelets for view declaration language.</li>
					</ul>
				</section>
			</section>
			<section>
				<section>
					<h2>A Simple JSF Application</h2>
				</section>
				<section>
					<h3>A Simple JSF Application</h3>
					<ol>
						<li>a web page (using Facelets)</li>
						<li>a managed bean</li>
						<li>FacesServlet mapping</li>
					</ol>
				</section>
				<section>
					<h3>A Simple JSF Application</h3>
					web page with Facelets
					<pre>
						<code><h:form>
	<div>
		<h:outputLabel for="txtUsername" value="username: " />
		<h:inputText id="txtUsername" value="#{loginController.username}" />
	</div>
	<div>
		<h:outputLabel for="txtPassword" value="password: " />
		<h:inputText id="txtPassword" value="#{loginController.password}" />
	</div>
	<h:commandButton id="btnSubmit" value="Submit" action="user-info" />
	<h:link value="Go to user-info page" outcome="user-info.xhtml" />
</h:form></code>
</pre>

				</section>
				<section>
					<h3>A Simple JSF Application</h3>
					a Managed Bean
					<pre><code>@Named
@SessionScoped
public class LoginController implements Serializable {

	private static final long serialVersionUID = 1L;

	private String username;

	private String password;

	public void getUserInfo() {
		LOG.info("Username = " + username +
			" &&& Password = " + password);
	}

// getters & setters
}</code></pre>
				</section>
				<section>
					<h3>A Simple JSF Application</h3>
					FacesServlet mapping
					<pre><code><servlet>
	<servlet-name>Faces Servlet</servlet-name>
	<servlet-class>javax.faces.webapp.FacesServlet</servlet-class>
</servlet>

<servlet-mapping>
	<servlet-name>Faces Servlet</servlet-name>
	<url-pattern>*.xhtml</url-pattern>
</servlet-mapping></code></pre>
				</section>
			</section>
			<section>
				<section>
					<h2>JSF lifecycle</h2>
				</section>
				<section>
					<h3>JSF lifecycle</h3>
					<div style="text-align: left;">
						<h4>The lifecycle of a JSF application:</h4>
						<ul>
							<li>starts with the client makes a
								<em style="color: #00a663">request</em> for the web page.</li>
							<li>ends with the server <em style="color: #00a663">responds</em> with the page.</li>
							<li>consists of two main phases:
								<em style="color: #00a663">Execute</em> and
								<em style="color: #00a663">Render</em>.</li>
						</ul>
					</div>
				</section>
				<section>
					<h3>JSF lifecycle</h3>
					<div style="text-align: left;">
						Execute phase:
						<ol>
							<li>The application <em style="color: #00a663">view</em>
								is built(*) or restored(**).</li>
							<li><em style="color: #00a663">Apply</em> request parameter values</li>
							<li><em style="color: #00a663">Conversions and validations</em>
								are performed for component values.</li>
							<li><em style="color: #00a663">Update</em>
								Managed beans with component values.</li>
							<li><em style="color: #00a663">Invoke</em> Application logic .</li>
						</ol>
						<br><br>
						(*) For initial request.<br>
						(**) For postback requests.
					</div>
				</section>
				<section>
					<h3>JSF lifecycle</h3>
					In the Render phase, the requested view is rendered as a response to the client. Rendering is
					typically the process of generating output, such as HTML or XHTML, that can be read by the client,
					usually a browser.
				</section>
				<section>
					<h3>JSF lifecycle</h3>
					<div>
						Restore View Phase
						- builds the view of the page
						- wires event handlers and validators to components in the view
						- saves the view in the FacesContext instance
					</div>
				</section>
				<section>
					<h3>JSF lifecycle</h3>
					<div>
						Apply Request Values Phase
						<ul>
							<li>Store values of each component locally.</li>
							<li>If renderResponse method is called, advance to the Render Response phase.</li>
							<li>Broadcasts queued events (if any) to interested listeners.</li>
							<li>If components have "immediate" attributes set to true, then the validations, conversions, and events associated with these components will be processed during this phase.</li>
							<li>At the end of this phase, the components are set to their new values, and messages and events have been queued.</li>
							<li>If the current request is identified as a partial request, the partial context is retrieved from the FacesContext, and the partial processing method is applied.</li>
							<li></li>
							<li></li>
						</ul>
					</div>
				</section>
				<section>
					<h3>JSF lifecycle</h3>
					<div>
						Process Validations Phase
						<ul>
							<li>Perform all validators registered on the components</li>
							<li>If any validate methods or event listeners have called the renderResponse method on the current FacesContext, the JavaServer Faces implementation skips to the Render Response phase.</li>
							<li>if the application needs to redirect to a different web application resource or generate a response that does not contain any JavaServer Faces components, it can call the FacesContext.responseComplete method.</li>
							<li>If events have been queued during this phase, the JavaServer Faces implementation broadcasts them to interested listeners.</li>
							<li>If the current request is identified as a partial request, the partial context is retrieved from the FacesContext, and the partial processing method is applied.</li>
						</ul>
					</div>
				</section>
				<section>
					<h3>JSF lifecycle</h3>
					<div>
						Update Model Values Phase
						<ul>
							<li>Update values to managed beans</li>
							<li>If any updateModels methods or any listeners have called the renderResponse method on the current FacesContext instance, the JavaServer Faces implementation skips to the Render Response phase.</li>
							<li>if the application needs to redirect to a different web application resource or generate a response that does not contain any JavaServer Faces components, it can call the FacesContext.responseComplete method.</li>
							<li>If any events have been queued during this phase, the JavaServer Faces implementation broadcasts them to interested listeners.</li>
							<li>If the current request is identified as a partial request, the partial context is retrieved from the FacesContext, and the partial processing method is applied.</li>
						</ul>
					</div>
				</section>
				<section>
					<h3>JSF lifecycle</h3>
					<div>
						Invoke Application Phase
						<ul>
							<li>Apply business logic </li>
							<li>if the application needs to redirect to a different web application resource or generate a response that does not contain any JavaServer Faces components, it can call the FacesContext.responseComplete method.</li>
							<li>If the view being processed was reconstructed from state information from a previous request and if a component has fired an event, these events are broadcast to interested listeners.</li>
							<li>Advance to Render Response phase</li>
						</ul>
					</div>
				</section>
				<section>
					<h3>JSF lifecycle</h3>
					<div>
						Render Response Phase
						<ul>
							<li>Build the view</li>
							<li>Display all queued error messages during previous phases</li>
							<li>Save state of subsequent requests</li>
							<li></li>
						</ul>
					</div>
				</section>
			</section>
			<section>
				<h1>Q&A</h1>
			</section>
			<section>
				<h1>Thank you!</h1>
			</section>
		</div>
	</div>

	<script src="js/reveal.js"></script>

	<script>
		Reveal.initialize({
			width: 1200,
			height: 700,
			hash: true,
			hideCursorTime: 2000,
			dependencies: [
				{ src: 'plugin/zoom-js/zoom.js', async: true },
				{ src: 'plugin/notes/notes.js', async: true },
				{ src: 'plugin/highlight/highlight.js', async: true }
			]
		});
	</script>
</body>

</html>
